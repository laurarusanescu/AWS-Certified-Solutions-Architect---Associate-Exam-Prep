# Object Storage with Amazon S3 — Exam Notes

## What Is Amazon S3? (EXAM CRITICAL)
**Amazon Simple Storage Service (S3)** is a **standalone object storage service**.

- Not tied to compute (unlike EBS)
- Data accessible **from anywhere over the web**
- Stores data as **objects** in a **flat structure**

➡️ Designed for **durability, scalability, and availability**

---

## Object Storage Fundamentals
- An **object** consists of:
  - Data (the file)
  - Metadata
  - Unique identifier (key)
- No true directory hierarchy
  - “Folders” are logical prefixes only

---

## Buckets (EXAM CRITICAL)

### What Is a Bucket?
- A **container** for objects
- You must create a bucket **before uploading objects**

---

### Bucket Creation Requirements
When creating a bucket, you must choose:
1. **Bucket name**
   - Must be **globally unique**
2. **AWS Region**
   - Objects stored across **multiple AZs** in that Region

---

### Durability & Availability (MEMORIZE)
- **99.999999999% (11 9s) durability**
- **99.99% availability**

---

## S3 Object Identification
- Objects are accessed via a **URL**
- Format:
- - **Key name** = full object path (including prefixes)

---

## Common Amazon S3 Use Cases (EXAM FAVORITES)
- Backups & EBS snapshots
- Media hosting (images, videos, audio)
- Static websites
- Static assets
- Software distribution
- Data lakes
- Long-term storage

---

## S3 Access Control (EXAM CRITICAL)

### Default Behavior
- **All S3 resources are private by default**

---

## IAM Policies vs S3 Bucket Policies (EXAM TRAP)

### IAM Policies
- Attached to:
- Users
- Groups
- Roles
- Best when:
- You manage many buckets
- You want centralized permission management

---

### S3 Bucket Policies
- Attached **only to buckets**
- Control access to:
- The bucket
- All objects inside it
- Best when:
- Cross-account access
- Public read access
- IAM policy size limits are reached

---

### Public Read Bucket Policy Example
json
{
"Version": "2012-10-17",
"Statement": [{
  "Effect": "Allow",
  "Principal": "*",
  "Action": ["s3:GetObject"],
  "Resource": ["arn:aws:s3:::employeebucket/*"]
}]
}


## S3 Encryption (EXAM CRITICAL)

### Encryption at Rest
- **Server-side encryption**
  - Managed by AWS
- **Client-side encryption**
  - Managed by you

### Encryption in Transit
- **SSL / HTTPS**
- Client-side encryption

---

## S3 Versioning (EXAM FAVORITE)

### Why Use Versioning?
- Prevent accidental overwrites
- Recover deleted objects
- Preserve object history

---

### How Versioning Works
- Each object version gets a **unique version ID**

#### Deleting an Object
- Adds a **delete marker**
- Object is not permanently removed

#### Overwriting an Object
- Creates a **new version**
- Older versions remain accessible

---

### Versioning States (MEMORIZE)
- **Unversioned** (default)
- **Versioning-enabled**
- **Versioning-suspended**
  - Existing versions remain

⚠️ All object versions **incur storage costs**

---

## Amazon S3 Storage Classes (EXAM CRITICAL)

### S3 Standard
- General-purpose storage
- Frequently accessed data

---

### S3 Intelligent-Tiering
- Unknown or changing access patterns
- Automatically moves data between tiers

---

### S3 Standard–Infrequent Access (Standard-IA)
- Infrequent access
- Rapid retrieval
- Lower storage cost
- Retrieval fee applies

---

### S3 One Zone–Infrequent Access (One Zone-IA)
- Stored in **one Availability Zone**
- Cheaper than Standard-IA
- For:
  - Re-creatable data
  - Secondary backups

---

### S3 Glacier Instant Retrieval
- Archive data
- **Millisecond retrieval**
- Low-cost archive with fast access

---

### S3 Glacier Flexible Retrieval
- Archive data
- **Asynchronous retrieval**
- Cheaper than Instant Retrieval
- Accessed 1–2 times per year

---

### S3 Glacier Deep Archive
- **Lowest-cost** S3 storage class
- Long-term retention (7–10+ years)
- Retrieval takes **hours**

---

### S3 Outposts
- Object storage on **AWS Outposts**
- For on-premises AWS environments

---

## Lifecycle Management (EXAM FAVORITE)

### What Is Lifecycle Management?
Automates:
- **Transitions** between storage classes
- **Expiration** (object deletion)

---

### Common Lifecycle Use Cases
- Logs with short retention
- Data with changing access frequency
- Compliance-driven archives

---

### Example Lifecycle Rules
- Transition to **Standard-IA after 30 days**
- Move to **Glacier after 1 year**
- **Delete after 7 years**

---

## Exam Takeaway Summary
- S3 = **object storage**, not block
- Buckets are **region-scoped**, names are **global**
- Objects are **private by default**
- Versioning protects against data loss
- Storage classes optimize cost
- Lifecycle rules automate savings
